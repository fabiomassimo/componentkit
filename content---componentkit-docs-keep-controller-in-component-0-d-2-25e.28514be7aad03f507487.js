(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{89:function(e,a,n){"use strict";n.r(a),n.d(a,"frontMatter",function(){return s}),n.d(a,"rightToc",function(){return p}),n.d(a,"default",function(){return N});n(0);var t=n(133);n(134);function c(){return(c=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var n=arguments[a];for(var t in n)Object.prototype.hasOwnProperty.call(n,t)&&(e[t]=n[t])}return e}).apply(this,arguments)}function o(e,a){if(null==e)return{};var n,t,c=function(e,a){if(null==e)return{};var n,t,c={},o=Object.keys(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||(c[n]=e[n]);return c}(e,a);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(t=0;t<o.length;t++)n=o[t],a.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}var s={title:"Keep Controller in Component"},p=[],m={rightToc:p},r="wrapper";function N(e){var a=e.components,n=o(e,["components"]);return Object(t.a)(r,c({},m,n,{components:a,mdxType:"MDXLayout"}),Object(t.a)("p",null,"Avoid creating a separate file for component controllers."),Object(t.a)("pre",{className:"language-objectivec"},Object(t.a)("code",c({parentName:"pre"},{className:"language-objectivec",metastring:"highlight",highlight:!0}),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"@implementation")," BoldToggleComponent\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"+")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"newWithString",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"*"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"string\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  CKComponentScope ",Object(t.a)("span",c({parentName:"code"},{className:"token function"}),"scope"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"self"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n  UIFont ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"*"),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"const")," font ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"scope",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),Object(t.a)("span",c({parentName:"code"},{className:"token function"}),"state"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")")," boolValue",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"?"),"\n                        ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"UIFont boldSystemFontOfSize",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"12.0"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),"\n                        ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"UIFont systemFontOfSize",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token number"}),"12.0"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"return")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"super")," newWithComponent",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),"\n          ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"CKLabelComponent\n           newWithLabelAttributes",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n             ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),"string ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," string",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n             ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),"font ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"=")," font",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),","),"\n           ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n           viewAttributes",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n           size",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"+")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"id",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"initialState\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"return")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"@"),"NO",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"@end"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"@implementation")," BoldToggleComponentController\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"-")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"void"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"didMount\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"NSNotificationCenter defaultCenter",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]")," addObserver",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"self"),"\n                                           selector",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"@selector"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"updateState",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"\n                                               name",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token string"}),'@"toggleBold"'),"\n                                             object",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),"nil",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"-")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"void"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"willUnmount\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"NSNotificationCenter defaultCenter",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]")," removeObserver",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"self"),"\n                                                  name",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token string"}),'@"toggleBold"'),"\n                                                object",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),"nil",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"-")," ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"void"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"updateState",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"NSNotification ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"*"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),"notification\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"self"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"."),"component updateState",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"^"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),"id oldState",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"{"),"\n    ",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"return")," ",Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"@"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"("),Object(t.a)("span",c({parentName:"code"},{className:"token operator"}),"!"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"["),"oldState boolValue",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),")"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}")," mode",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),":"),"CKUpdateModeAsynchronous",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"]"),Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(t.a)("span",c({parentName:"code"},{className:"token punctuation"}),"}"),"\n\n",Object(t.a)("span",c({parentName:"code"},{className:"token keyword"}),"@end"),"\n")),Object(t.a)("p",null,"Imagine that the component and controller were in separate in the above\nexample.  Then, it wouldn't be obvious why the state is necessary just by\nlooking at the component file, since there are no calls to ",Object(t.a)("inlineCode",{parentName:"p"},"updateState")," in the\ncomponent file."),Object(t.a)("p",null,"It may be tempting to split the component controller into its own file in order\nto make the file less than 300 lines, but we think it's worse to have the\ncomponent controller in its own file."))}N.isMDXComponent=!0}}]);