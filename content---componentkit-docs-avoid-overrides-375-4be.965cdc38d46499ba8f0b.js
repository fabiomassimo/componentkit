(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{57:function(e,a,t){"use strict";t.r(a),t.d(a,"frontMatter",function(){return s}),t.d(a,"rightToc",function(){return p}),t.d(a,"default",function(){return N});t(0);var n=t(131);t(132);function o(){return(o=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e}).apply(this,arguments)}function c(e,a){if(null==e)return{};var t,n,o=function(e,a){if(null==e)return{};var t,n,o={},c=Object.keys(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||(o[t]=e[t]);return o}(e,a);if(Object.getOwnPropertySymbols){var c=Object.getOwnPropertySymbols(e);for(n=0;n<c.length;n++)t=c[n],a.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}var s={title:"Avoid Overrides"},p=[],r={rightToc:p},m="wrapper";function N(e){var a=e.components,t=c(e,["components"]);return Object(n.a)(m,o({},r,t,{components:a,mdxType:"MDXLayout"}),Object(n.a)("p",null,"Method overrides make components more difficult to use."),Object(n.a)("p",null,"Imagine you're adding an optional text color parameter to a component. You might be tempted to add an override:"),Object(n.a)("pre",{className:"language-objectivec"},Object(n.a)("code",o({parentName:"pre"},{className:"language-objectivec",metastring:"redhighlight",redhighlight:!0}),Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@interface")," ArticleTextComponent\n",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@end"),"\n")),Object(n.a)("p",null,"But someone will later add another override:"),Object(n.a)("pre",{className:"language-objectivec"},Object(n.a)("code",o({parentName:"pre"},{className:"language-objectivec",metastring:"redhighlight",redhighlight:!0}),"  ",Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@interface")," ArticleTextComponent\n  ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text backgroundColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text\n                    textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"textColor\n              backgroundColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"backgroundColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@end"),"\n")),Object(n.a)("p",null,"The component is splintering. It's not obvious which override to use and we need a lot of boilerplate behind the scenes to redirect to the designated initializer."),Object(n.a)("p",null,"Instead, always expose all parameters in a single designated initializer and document which are optional."),Object(n.a)("pre",{className:"language-objectivec"},Object(n.a)("code",o({parentName:"pre"},{className:"language-objectivec",metastring:"highlight",highlight:!0}),Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@interface")," ArticleTextComponent\n",Object(n.a)("span",o({parentName:"code"},{className:"token comment"}),"/**\n @param text The text to render in the component.\n @param textColor Optional; pass nil for the default.\n @param backgroundColor Optional; pass nil for the default.\n */"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithText",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"NSString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"text\n                  textColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"textColor\n            backgroundColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"backgroundColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@end"),"\n")),Object(n.a)("p",null,'If there are too many parameters, a useful pattern is a "style struct". For example, see ',Object(n.a)("inlineCode",{parentName:"p"},"CKTextComponent"),":"),Object(n.a)("pre",{className:"language-objectivec"},Object(n.a)("code",o({parentName:"pre"},{className:"language-objectivec",metastring:"highlight",highlight:!0}),Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"struct")," CKTextKitAttributes ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  NSAttributedString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),"attributedString",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  NSAttributedString ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),"truncationAttributedString",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  NSCharacterSet ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),"avoidTailTruncationSet",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  NSLineBreakMode lineBreakMode",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  NSUInteger maximumNumberOfLines",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  CGSize shadowOffset",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  UIColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"*"),"shadowColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  CGFloat shadowOpacity",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n  CGFloat shadowRadius",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n\n",Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@interface")," CKTextComponent ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":")," CKComponent\n",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"+")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),"instancetype",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"newWithTextAttributes",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"const")," CKTextKitAttributes ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"&"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"attributes\n                       viewAttributes",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"const")," CKViewComponentAttributeValueMap ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"&"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"viewAttributes\n                 accessibilityContext",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),":"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"("),Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"const")," CKTextComponentAccessibilityContext ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"&"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),")"),"accessibilityContext",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),";"),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token keyword"}),"@end"),"\n")),Object(n.a)("p",null,"Using ",Object(n.a)("a",o({parentName:"p"},{href:"http://en.cppreference.com/w/cpp/language/aggregate_initialization"}),"aggregate initialization"),", it's easy to initialize the style struct with only some parameters:"),Object(n.a)("pre",{className:"language-objectivec"},Object(n.a)("code",o({parentName:"pre"},{className:"language-objectivec",metastring:"highlight",highlight:!0}),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"{"),"\n  ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"shadowColor ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"["),"UIColor blackColor",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"]"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n  ",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"."),"maximumNumberOfLines ",Object(n.a)("span",o({parentName:"code"},{className:"token operator"}),"=")," ",Object(n.a)("span",o({parentName:"code"},{className:"token number"}),"1"),Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),","),"\n",Object(n.a)("span",o({parentName:"code"},{className:"token punctuation"}),"}"),"\n")))}N.isMDXComponent=!0}}]);